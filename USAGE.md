# @ksa.obj
カスタムオブジェクト用のスクリプトです．

## 折れ線矢印
本家の「ライン(移動軌跡)」のように長さを時間変化させるための折れ線矢印です．長さは折れ線全体の長さに対するパーセンテージを「描画率」のパラメータで調整します．「ライン(移動軌跡)」が鏃の中心を軸にしているのに対し，「折れ線矢印」は鏃の先端を軸にしているため，特定の座標を指したいときに使いやすいです．代わりに，折れる途中の描画が手抜きで汚いです．

<dl>
 <dt>線幅</dt>
  <dd>線の幅をピクセル数で指定します．</dd>
 <dt>鏃長</dt>
  <dd>鏃の長さを線幅に対するパーセンテージで指定します．</dd>
 <dt>鏃幅</dt>
  <dd>鏃の幅を線幅に対するパーセンテージで指定します．</dd>
 <dt>描画率</dt>
  <dd>折れ線全体に対して描画するパーセンテージを指定します．特定の頂点までのパーセンテージは別途計算の必要があります．</dd>
 <dt>色</dt>
  <dd>線の色を指定します．</dd>
 <dt>頂点数</dt>
  <dd>頂点数を2～16の範囲で指定します．頂点はアンカーポイントになっており，ドラッグで動かせます．</dd>
 <dt>座標</dt>
  <dd><code>{頂点1のx, 頂点1のy, 頂点2のx, ...}</code>の形で座標を指定します．アンカーポイントで動かす場合は気にしなくて大丈夫です．</dd>
</dl>

## 矩形枠
「角度」が`0`の場合に，各辺がx軸またはy軸に平行な長方形の枠です．

<dl>
 <dt>線幅</dt>
  <dd>線の幅をピクセル数で指定します．</dd>
 <dt>角丸</dt>
  <dd><code>1</code>なら角を丸くし，<code>0</code>なら尖らせます．丸みの半径は線幅の半分で固定です．</dd>
 <dt>アンカー数</dt>
  <dd><code>2</code>なら対角線上の2頂点を，<code>1</code>なら1頂点をアンカーポイントとします．角度を変える場合は<code>1</code>にするとアンカーポイントと描画頂点がずれません．</dd>
 <dt>色</dt>
  <dd>線の色を指定します．</dd>
 <dt>座標</dt>
  <dd>アンカーポイントの座標が出力されます．数字を指定して頂点位置を決めてもよいです．</dd>
</dl>

## 枠付き角丸四角形
角を丸められ，枠と塗りつぶし領域で独立に色や透明度を調整できる長方形オブジェクトです．

<dl>
 <dt>角半径</dt>
  <dd>角を丸くする場合の外径半径をピクセル数で指定します．長方形の短辺の長さより大きく指定しても，短辺の長さになります．<code>0</code>なら尖ります．</dd>
 <dt>枠太さ</dt>
  <dd>枠線の太さをピクセル数で指定します．長方形の短辺の長さより大きく指定すると，全体が枠になります．<code>0</code>なら枠なしです．</dd>
 <dt>枠透明度<dt>
  <dd>枠線の透明度を指定します．0: 完全不透明，100: 完全透明．</dd>
 <dt>内透明度</dt>
  <dd>塗りつぶし領域の透明度を指定します．0: 完全不透明，100: 完全透明．</dd>
 <dt>内色</dt>
  <dd>塗りつぶしの色を指定します．</dd>
 <dt>枠色</dt>
  <dd>枠線の色を指定します．</dd>
 <dt>シングルアンカー</dt>
  <dd>未チェックなら対角線上の2頂点を，チェックなら1頂点をアンカーポイントとします．角度を変える場合はチェックするとアンカーポイントと描画頂点がずれません．</dd>
 <dt>座標</dt>
  <dd>アンカーポイントの座標が出力されます．アンカーポイントは外径を決定します．</dd>
</dl>

# @ksa.anm
アニメーション効果用のスクリプトです．

## 透明度グラデーション
高透明度側と低透明度側の透明度を任意に指定できる透明度グラデーションです．

<dl>
 <dt>中心X，中心Y</dt>
  <dd>グラデーションの斜め線の中心点の座標です．</dd>
 <dt>角度</dt>
  <dd>グラデーションの斜め線の角度(度)です．</dd>
 <dt>幅</dt>
  <dd>グラデーションをかける幅をピクセル数で指定します．</dd>
 <dt>開始透明度，終了透明度</dt>
  <dd>グラデーション前後の透明度を指定します．透明度を逆にするのと「角度」を<code>180</code>ずらすのは同じ効果です．0が透明度変化なし，100が完全透明を意味します．</dd>
</dl>

## 回転
「広がって登場」をずっと繰り返すようなアニメーションです．
仮想バッファ利用がうまく行かず，直接描画しているので，最後のエフェクトにする必要があります．

<dl>
 <dt>回転量</dt>
  <dd>回転の回数を，半回転の何倍かで指定します．<code>1</code>なら広がって登場してそのまま縮まって退場します．</dd>
 <dt>縦回転</dt>
  <dd><code>0</code>ならY軸回転，<code>1</code>ならX軸回転に近い動きをします(縦または横に拡大縮小しているだけであり，カメラ制御との組み合わせは想定していません)．</dd>
 <dt>反転</dt>
  <dd>回転を逆方向にします．</dd>
</dl>

# @ksa.tra
トラックバー変化方法用のスクリプトです．

## 加減速移動
本家の加減速移動がバグっているので追加した加減速移動スクリプト．
パラメータの値(デフォルト：`5`)によって，次の多項式に比例した形で変化させます．

|パラメータ|多項式|満たす条件|
|:-|:-|:-|
|`0`|<img src="https://latex.codecogs.com/gif.latex?x^2(3-2x)" title="x^2(3-2x)" />|速度が連続|
|`1`|<img src="https://latex.codecogs.com/gif.latex?x^3(10&plus;3x(-5&plus;2x)))" title="x^3(10+3x(-5+2x)))" />|加速度が連続|
|`2`|<img src="https://latex.codecogs.com/gif.latex?x^4(35-2x(42&plus;5x(-7&plus;2x)))))" title="x^4(35-2x(42+5x(-7+2x)))))" />|躍度が連続|
|`3`|<img src="https://latex.codecogs.com/gif.latex?\big(\!\sin(\pi&space;x/2)\big)^2" title="\big(\!\sin(\pi x/2)\big)^2" />|速度が連続|
|`4`|<img src="https://latex.codecogs.com/gif.latex?x-\tfrac{\sin(2\pi&space;x)}{2\pi}" title="x-\tfrac{\sin(2\pi x)}{2\pi}" />|加速度が連続|
|`5`|<img src="https://latex.codecogs.com/gif.latex?\big(2&plus;\cos(\pi&space;x)\big)\big(\!\sin(\pi&space;x/2)\big)^4" title="\big(2+\cos(\pi x)\big)\big(\!\sin(\pi x/2)\big)^4" />|躍度が連続|
|`6`|<img src="https://latex.codecogs.com/gif.latex?\begin{cases}&space;\&space;2x^2&space;&&space;0\leq&space;x&space;<&space;1/2&space;\\&space;\&space;-1-2(-2&plus;x)&space;x&space;&&space;1/2\leq&space;x&space;\leq&space;1&space;\end{cases}" title="\begin{cases} \ 2x^2 & 0\leq x < 1/2 \\ \ -1-2(-2+x) x & 1/2\leq x \leq 1 \end{cases}" />|速度が連続|

「速度が連続」＜「加速度が連続」＜「躍度が連続」の順になめらかになっていき，滑らかさでない順に並べると`6`<`0`<`3`<`1`<`4`<`2`<`5`となります．
